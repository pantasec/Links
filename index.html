<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pantasec | Creador Digital - Ciberseguridad</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #8A2BE2; /* Changed to purple */
            --primary-light: rgba(138, 43, 226, 0.3);
            --dark: #0a0a0a;
            --light: #f5f5f5;
            --grey: #1a1a1a;
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            --icon-color: #8A2BE2; /* Changed to purple */
        }

        body {
            color: var(--light);
            font-family: 'IBM Plex Mono', monospace;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            position: relative;
            overflow-x: hidden;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
        }

        #background-video {
            position: fixed;
            right: 0;
            bottom: 0;
            min-width: 100%;
            min-height: 100%;
            width: auto;
            height: auto;
            z-index: -100;
            object-fit: cover;
            filter: brightness(0.2) blur(4px);
        }

        .container {
            max-width: 680px;
            width: 90%;
            margin: 2rem auto;
            padding: 2rem;
            position: relative;
            z-index: 1;
            text-align: center;
            backdrop-filter: blur(2px);
        }

        header {
            margin-bottom: 3rem;
            animation: fadeIn 0.8s ease-out;
        }

        h1 {
            color: var(--light);
            font-size: 2.8rem;
            margin: 0;
            letter-spacing: 2px;
            font-weight: 700;
            text-shadow: 0 0 15px rgba(138, 43, 226, 0.3); /* Updated to purple */
            position: relative;
            display: inline-block;
        }

        h1::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 100%;
            height: 2px;
            background: var(--primary);
            transform: scaleX(0);
            transform-origin: right;
            transition: transform 0.5s ease;
        }

        h1:hover::after {
            transform: scaleX(1);
            transform-origin: left;
        }

        .tagline {
            color: var(--primary);
            font-weight: 700;
            font-size: 1.1rem;
            margin-top: 1rem;
            letter-spacing: 1px;
            text-transform: uppercase;
        }

        .links {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .section-title {
            color: var(--primary);
            font-size: 1.2rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin: 2rem 0 1rem 0;
            text-align: left;
            position: relative;
            padding-left: 15px;
        }

        .section-title::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            height: 60%;
            width: 4px;
            background: var(--primary);
        }

        .link-card {
            background: rgba(26, 26, 26, 0.8);
            border: 1px solid var(--grey);
            border-radius: 8px;
            padding: 1.2rem;
            display: flex;
            align-items: center;
            text-decoration: none;
            color: var(--light);
            transition: var(--transition);
            animation: fadeInUp 0.6s ease-out forwards;
            opacity: 0;
            backdrop-filter: blur(5px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            position: relative;
        }

        .link-card:hover {
            transform: translateY(-3px);
            border-color: var(--primary);
            box-shadow: 0 6px 12px rgba(138, 43, 226, 0.2); /* Updated to purple */
            background: rgba(38, 38, 38, 0.9);
        }

        .link-icon {
            width: 44px;
            height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1.5rem;
            flex-shrink: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            transition: var(--transition);
        }

        .link-card:hover .link-icon {
            transform: scale(1.1);
            background: rgba(255, 255, 255, 0.2);
        }

        .link-icon i {
            font-size: 1.4rem;
            transition: var(--transition);
            color: var(--icon-color);
        }

        .link-card:hover .link-icon i {
            filter: drop-shadow(0 0 8px var(--primary));
        }

        .link-text {
            text-align: left;
            flex: 1 1 auto;
            margin-right: 1rem;
        }

        .link-title {
            font-weight: 700;
            font-size: 1.1rem;
            margin: 0 0 0.2rem 0;
            color: var(--light);
            transition: var(--transition);
        }

        .link-card:hover .link-title {
            color: var(--primary);
        }

        .link-desc {
            font-size: 0.85rem;
            opacity: 0.8;
            margin: 0;
            line-height: 1.4;
        }

        .course-button {
            background-color: var(--primary);
            color: var(--dark);
            font-weight: 700;
            padding: 0.8rem 1.2rem;
            border-radius: 8px;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: var(--transition);
            text-decoration: none;
            flex-shrink: 0;
            text-align: center;
            display: inline-block;
            font-size: 0.9rem;
        }

        .course-button:hover {
            background-color: #9932CC; /* Darker purple */
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(138, 43, 226, 0.3);
        }

        .tools-box {
            background: rgba(26, 26, 26, 0.7);
            border: 1px solid var(--primary);
            border-radius: 10px;
            padding: 1.2rem;
            margin-top: 0.5rem;
            backdrop-filter: blur(10px);
            box-shadow: 0 5px 15px rgba(138, 43, 226, 0.15);
            position: relative;
            overflow: hidden;
        }

        .tools-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--primary), transparent);
            animation: shimmer 3s infinite linear;
        }

        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }

        .tools-buttons {
            display: flex;
            gap: 0.8rem;
            justify-content: center;
        }

        .tool-button {
            flex: 1;
            background: rgba(138, 43, 226, 0.15); /* Updated to purple */
            color: var(--light);
            font-weight: 700;
            padding: 0.8rem;
            border-radius: 6px;
            text-decoration: none;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            border: 1px solid rgba(138, 43, 226, 0.3);
            position: relative;
            overflow: hidden;
        }

        .tool-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: 0.5s;
        }

        .tool-button:hover {
            background: rgba(138, 43, 226, 0.25);
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(138, 43, 226, 0.3);
            border-color: var(--primary);
        }

        .tool-button:hover::before {
            left: 100%;
        }

        .tool-button i {
            margin-right: 8px;
            font-size: 1.1rem;
            color: var(--icon-color);
        }

        .podcast-embed {
            background: rgba(26, 26, 26, 0.7);
            border: 1px solid var(--grey);
            border-radius: 8px;
            padding: 1rem;
            margin: 0.5rem 0;
            animation: fadeInUp 0.6s ease-out forwards;
            opacity: 0;
            backdrop-filter: blur(5px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .podcast-embed iframe {
            width: 100%;
            height: 152px;
            border-radius: 12px;
            border: none;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2.2rem;
            }

            .tagline {
                font-size: 1rem;
            }

            .link-card {
                padding: 1rem;
                flex-direction: column;
                text-align: center;
            }

            .link-icon {
                width: 40px;
                height: 40px;
                margin-right: 0;
                margin-bottom: 0.8rem;
            }

            .link-icon i {
                font-size: 1.2rem;
            }

            .link-text {
                margin-right: 0;
                margin-bottom: 0.8rem;
            }

            .course-button {
                padding: 0.7rem 1rem;
                font-size: 0.85rem;
            }

            .tools-box {
                padding: 1rem;
            }

            .tools-buttons {
                flex-direction: column;
                gap: 0.6rem;
            }

            .tool-button {
                padding: 0.7rem;
                font-size: 0.9rem;
            }

            #background-video {
                display: none;
            }

            .podcast-embed iframe {
                height: 132px;
            }

            .floating-book {
                width: 50px;
                height: 50px;
                bottom: 20px;
                right: 20px;
            }

            .floating-book i {
                font-size: 20px;
            }

            .modal-content {
                padding: 1.5rem;
            }

            .modal-title {
                font-size: 1.3rem;
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .link-card:nth-child(1) { animation-delay: 0.1s; }
        .link-card:nth-child(2) { animation-delay: 0.2s; }
        .link-card:nth-child(3) { animation-delay: 0.3s; }
        .link-card:nth-child(4) { animation-delay: 0.4s; }
        .link-card:nth-child(5) { animation-delay: 0.5s; }
        .link-card:nth-child(6) { animation-delay: 0.6s; }
        .link-card:nth-child(7) { animation-delay: 0.7s; }

        .floating-book {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background-color: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 1000;
            box-shadow: 0 4px 15px rgba(138, 43, 226, 0.4);
            transition: all 0.3s ease;
            animation: pulse 2s infinite;
        }

        .floating-book:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(138, 43, 226, 0.6);
        }

        .floating-book i {
            color: white;
            font-size: 24px;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(138, 43, 226, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(138, 43, 226, 0); }
            100% { box-shadow: 0 0 0 0 rgba(138, 43, 226, 0); }
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            display: none;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background-color: rgba(26, 26, 26, 0.95);
            border: 1px solid var(--primary);
            border-radius: 10px;
            max-width: 500px;
            width: 90%;
            padding: 2rem;
            position: relative;
            animation: modalFadeIn 0.3s ease-out;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            color: var(--light);
            font-size: 24px;
            cursor: pointer;
            transition: color 0.3s;
        }

        .close-modal:hover {
            color: var(--primary);
        }

        .modal-title {
            color: var(--primary);
            text-align: center;
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--light);
            font-size: 14px;
        }

        .form-input {
            width: 100%;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid #333;
            border-radius: 6px;
            padding: 0.8rem 1rem;
            color: var(--light);
            font-family: inherit;
            font-size: 14px;
            transition: var(--transition);
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(138, 43, 226, 0.3);
        }

        .btn {
            background-color: var(--primary);
            color: white;
            font-weight: 700;
            padding: 0.8rem 1.5rem;
            border-radius: 6px;
            text-decoration: none;
            display: inline-block;
            transition: var(--transition);
            border: none;
            cursor: pointer;
            width: 100%;
            font-size: 1.1rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn:hover {
            background-color: #9932CC;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(138, 43, 226, 0.4);
        }

        .privacy {
            font-size: 0.8rem;
            color: var(--light);
            opacity: 0.7;
            margin-top: 1.5rem;
            text-align: center;
        }
    </style>
</head>
<body>
    <video autoplay muted loop playsinline id="background-video">
        <source src="background-video.mp4" type="video/mp4">
        Your browser does not support HTML5 video.
    </video>

    <div class="container">
        <header>
            <h1>PANTASEC</h1>
            <p class="tagline">Creador Digital - Ciberseguridad</p>
        </header>

        <!-- Cursos Disponibles Section -->
        <h3 class="section-title">Cursos Disponibles</h3>
        <div class="links">
            <div class="link-card">
                <div class="link-icon">
                    <i class="fas fa-shopping-cart"></i>
                </div>
                <div class="link-text">
                    <p class="link-title">Introducción a Redes</p>
                    <p class="link-desc">Aprende los fundamentos de redes y comienza tu carrera en ciberseguridad</p>
                </div>
                <a href="https://www.elrincondelhacker.es/offers/8J49oCnw/checkout" class="course-button" aria-label="Comprar curso Introducción a Redes" target="_blank">Comprar Curso</a>
            </div>
        </div>

        <!-- LionxSecurity Section -->
        <h3 class="section-title">LionxSecurity</h3>
        <div class="links">
            <div class="link-card" id="academyLink">
                <div class="link-icon">
                    <i class="fas fa-book"></i>
                </div>
                <div class="link-text">
                    <p class="link-title">LionxSecurity</p>
                    <p class="link-desc">Academia de Hacking Ético - Aprende ciberseguridad práctica</p>
                </div>
            </div>
            
            <!-- Cajita transparente con botones -->
            <div class="tools-box">
                <div class="tools-buttons">
                    <a href="#" class="tool-button" id="freeNotesButton">
                        <i class="fas fa-gift"></i> Apuntes Gratis
                    </a>
                    <a href="Hacking Tools.md" download class="tool-button">
                        <i class="fab fa-github"></i> Hacking Tools
                    </a>
                </div>
            </div>
        </div>

        <!-- Contenido Principal Section -->
        <h3 class="section-title">Contenido Principal</h3>
        <div class="links">
            <a href="https://t.me/LionxSecurity" target="_blank" class="link-card">
                <div class="link-icon">
                    <i class="fab fa-telegram"></i>
                </div>
                <div class="link-text">
                    <p class="link-title">Comunidad en Telegram</p>
                    <p class="link-desc">Únete para contenido exclusivo y debates</p>
                </div>
            </a>
            <a href="https://www.youtube.com/@Pantasec" target="_blank" class="link-card">
                <div class="link-icon">
                    <i class="fab fa-youtube"></i>
                </div>
                <div class="link-text">
                    <p class="link-title">YouTube</p>
                    <p class="link-desc">Análisis y tutoriales en profundidad</p>
                </div>
            </a>
            
            <!-- Spotify Embed -->
            <div class="podcast-embed">
                <iframe src="https://open.spotify.com/embed/show/0cuZ7kTlix1kV7axYg7j3N" 
                        allow="encrypted-media"></iframe>
            </div>
        </div>

        <!-- Redes Sociales Section -->
        <h3 class="section-title">Redes Sociales</h3>
        <div class="links">
            <a href="https://www.instagram.com/pantasec.yt/" target="_blank" class="link-card">
                <div class="link-icon">
                    <i class="fab fa-instagram"></i>
                </div>
                <div class="link-text">
                    <p class="link-title">Instagram</p>
                    <p class="link-desc">Tips rápidos y contenido diario</p>
                </div>
            </a>
            <a href="https://www.linkedin.com/in/pantasec/" target="_blank" class="link-card">
                <div class="link-icon">
                    <i class="fab fa-linkedin-in"></i>
                </div>
                <div class="link-text">
                    <p class="link-title">LinkedIn</p>
                    <p class="link-desc">Networking y perfil profesional</p>
                </div>
            </a>
            <a href="https://www.tiktok.com/@pantasec" target="_blank" class="link-card">
                <div class="link-icon">
                    <i class="fab fa-tiktok"></i>
                </div>
                <div class="link-text">
                    <p class="link-title">TikTok</p>
                    <p class="link-desc">Vídeos cortos y virales</p>
                </div>
            </a>
        </div>
    </div>

    <!-- Floating Book Icon -->
    <div class="floating-book" id="bookIcon">
        <i class="fas fa-book"></i>
    </div>

    <!-- Modal with Free Notes Form -->
    <div class="modal-overlay" id="formModal">
        <div class="modal-content">
            <span class="close-modal" id="closeModal">×</span>
            <h3 class="modal-title">🎁 Apuntes Gratis de Ciberseguridad</h3>
            <p style="text-align: center; margin-bottom: 1.5rem; color: var(--light); opacity: 0.9;">Regístrate para obtener acceso inmediato a nuestros apuntes de ciberseguridad, incluyendo teoría, laboratorios y ejercicios prácticos.</p>
            <form id="apuntesForm" action="https://assets.mailerlite.com/jsonp/1666597/forms/159988740446487920/subscribe" method="post" target="_blank">
                <div class="form-group">
                    <label class="form-label" for="nombre">Nombre Completo</label>
                    <input type="text" id="nombre" name="fields[name]" class="form-input" placeholder="Tu nombre" required>
                </div>
                <div class="form-group">
                    <label class="form-label" for="email">Correo Electrónico</label>
                    <input type="email" id="email" name="fields[email]" class="form-input" placeholder="tu@email.com" required>
                </div>
                <div class="form-group">
                    <label class="form-label" for="interes">Área de Mayor Interés</label>
                    <select id="interes" name="fields[interes]" class="form-input" required>
                        <option value="" disabled selected>Selecciona una opción</option>
                        <option value="hacking-etico">Hacking Ético</option>
                        <option value="forense">Informática Forense</option>
                        <option value="redes">Seguridad de Redes</option>
                        <option value="malware">Análisis de Malware</option>
                        <option value="criptografia">Criptografía</option>
                    </select>
                </div>
                <input type="hidden" name="ml-submit" value="1">
                <button type="submit" class="btn">
                    <i class="fas fa-download"></i> Obtener Apuntes
                </button>
                <div class="privacy">Al enviar este formulario, aceptas recibir comunicaciones sobre ciberseguridad. Respetamos tu privacidad y nunca compartiremos tu información.</div>
            </form>
        </div>
    </div>

    <script>
        if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
            document.getElementById('background-video').style.display = 'none';
        }

        const bookIcon = document.getElementById('bookIcon');
        const academyLink = document.getElementById('academyLink');
        const freeNotesButton = document.getElementById('freeNotesButton');
        const formModal = document.getElementById('formModal');
        const closeModal = document.getElementById('closeModal');

        function openModal() {
            formModal.style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }

        function closeModalFunc() {
            formModal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        bookIcon.addEventListener('click', openModal);
        academyLink.addEventListener('click', function(e) {
            e.preventDefault();
            openModal();
        });
        
        freeNotesButton.addEventListener('click', function(e) {
            e.preventDefault();
            openModal();
        });

        closeModal.addEventListener('click', closeModalFunc);

        formModal.addEventListener('click', (e) => {
            if (e.target === formModal) {
                closeModalFunc();
            }
        });

        document.getElementById('apuntesForm').addEventListener('submit', function(e) {
            // Let MailerLite handle the form submission
            // Optionally show a success message or redirect
            setTimeout(() => {
                closeModalFunc();
                alert('¡Gracias por tu interés! En breve recibirás tus apuntes de ciberseguridad en tu correo electrónico.');
            }, 1000);
        });
    </script>
</body>
</html>
```

### Changes Made
1. **Color Scheme**:
   - Changed `--primary` from `#FF7A00` (orange) to `#8A2BE2` (purple) and `--primary-light` to `rgba(138, 43, 226, 0.3)` in the `:root` variables.
   - Updated `--icon-color` to `#8A2BE2` for consistency.
   - Adjusted hover effects to use `#9932CC` (darker purple) for buttons and other interactive elements.

2. **Modal Content**:
   - Replaced the MailerLite discount code form with the free notes form from the second HTML file.
   - Updated the modal title to “🎁 Apuntes Gratis de Ciberseguridad” and the description to focus on free notes (theory, labs, exercises).
   - Used `Segoe UI` (with fallbacks) instead of `IBM Plex Mono` for the modal content to match the second template.
   - Added form fields for `fields[name]`, `fields[email]`, and `fields[interes]` to match MailerLite’s expected field names.
   - Kept the form action as `https://assets.mailerlite.com/jsonp/1666597/forms/159988740446487920/subscribe` (replace with your actual MailerLite form URL).

3. **Form Styling**:
   - Applied styles from the second template: purple borders, dark input backgrounds (`rgba(255, 255, 255, 0.1)`), and purple focus effects.
   - Ensured the form is responsive with `width: 100%` and proper padding/margins.
   - Added a privacy notice below the form, styled consistently with the second template.

4. **JavaScript**:
   - Removed MailerLite-specific scripts (`fetch` and `ml_webform_success`) to simplify, as MailerLite handles form submission via the form action.
   - Added a submit event listener to show a success message and close the modal after a short delay.
   - Retained existing modal open/close functionality for `bookIcon`, `academyLink`, and `freeNotesButton`.

5. **Font Awesome**:
   - Kept the Font Awesome CDN link, as the form uses icons (e.g., `<i class="fas fa-download"></i>` for the submit button).
   - Ensured icons like `fa-book`, `fa-flask`, and `fa-tasks` are available for potential future use in the modal (e.g., features section).

6. **Removed Unused Styles**:
   - Removed MailerLite-specific CSS (`.ml-form-*` classes) since the new form uses custom styles.
   - Kept only the necessary modal and form styles to reduce bloat.

### Confirmation Email Template

To complete the flow, here’s a confirmation email template to send after form submission, providing a secure download link for the notes (hosted on Bunny CDN).

<xaiArtifact artifact_id="5858a136-aeb7-44b1-9bae-1de1c6794109" artifact_version_id="242a1dcd-4e8b-4203-a0f8-fbf542b60bb1" title="free_notes_confirmation.html" contentType="text/html">
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tus Apuntes de Ciberseguridad - LionxSecurity</title>
</head>
<body style="margin: 0; padding: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #0a0a0a; color: #e5e5e5;">
    <table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#0a0a0a">
        <tr>
            <td align="center" style="padding: 20px 0;">
                <table width="600" border="0" cellspacing="0" cellpadding="0" style="max-width: 600px; width: 100%; background: #1a1a1a; border: 1px solid #2d2d2d; border-radius: 12px; padding: 40px 20px; text-align: center;">
                    <tr>
                        <td style="font-size: 24px; font-weight: bold; color: #8A2BE2; margin-bottom: 10px; padding: 0 20px;">¡Tus Apuntes de Ciberseguridad!</td>
                    </tr>
                    <tr>
                        <td style="font-size: 16px; color: #e5e5e5; opacity: 0.8; margin-bottom: 30px; padding: 0 20px;">Gracias, {{ nombre }}, por tu interés. Haz clic abajo para descargar tus apuntes gratuitos de ciberseguridad.</td>
                    </tr>
                    <tr>
                        <td>
                            <table width="80%" border="0" cellspacing="0" cellpadding="0" style="background: #2d2d2d; border: 1px solid #8A2BE2; border-radius: 10px; padding: 20px; margin: 20px auto; text-align: center;">
                                <tr>
                                    <td style="font-size: 18px; font-weight: bold; color: #8A2BE2; margin-bottom: 15px;">Lo que incluye</td>
                                </tr>
                                <tr>
                                    <td style="font-size: 16px; color: #e5e5e5; padding: 10px 0;">
                                        <span style="color: #8A2BE2; font-size: 20px; margin-right: 8px;">📖</span> Teoría Completa
                                    </td>
                                </tr>
                                <tr>
                                    <td style="font-size: 16px; color: #e5e5e5; padding: 10px 0;">
                                        <span style="color: #8A2BE2; font-size: 20px; margin-right: 8px;">⚗️</span> Laboratorios
                                    </td>
                                </tr>
                                <tr>
                                    <td style="font-size: 16px; color: #e5e5e5; padding: 10px 0;">
                                        <span style="color: #8A2BE2; font-size: 20px; margin-right: 8px;">✅</span> Ejercicios Prácticos
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <a href="{{ notes_url }}" style="display: inline-block; background: #8A2BE2; color: #ffffff; padding: 12px 30px; text-decoration: none; border-radius: 6px; font-weight: bold; margin: 20px 0; font-size: 16px;">Descargar Apuntes</a>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <table width="100%" border="0" cellspacing="0" cellpadding="0">
                                <tr>
                                    <td style="font-size: 20px; font-weight: bold; color: #e5e5e5; margin-bottom: 10px;">Únete a la comunidad</td>
                                </tr>
                                <tr>
                                    <td style="font-size: 16px; color: #e5e5e5; opacity: 0.8; margin-bottom: 20px; padding: 0 20px;">Conéctate con otros apasionados por la ciberseguridad.</td>
                                </tr>
                                <tr>
                                    <td style="margin: 20px 0;">
                                        <a href="https://t.me/LionxSecurity" target="_blank" style="color: #8A2BE2; text-decoration: none; font-size: 24px; margin: 0 10px;">✈️</a>
                                        <a href="https://www.instagram.com/pantasec.yt/" target="_blank" style="color: #8A2BE2; text-decoration: none; font-size: 24px; margin: 0 10px;">📷</a>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                    <tr>
                        <td style="height: 1px; background: #2d2d2d; margin: 30px auto; width: 80%;"></td>
                    </tr>
                    <tr>
                        <td style="font-size: 14px; color: #e5e5e5; opacity: 0.7; margin-top: 30px; font-style: italic; padding: 0 20px;">
                            Mantente seguro,<br>Pantasec - Fundador de LionxSecurity
                        </td>
                    </tr>
                    <tr>
                        <td style="font-size: 14px; color: #e5e5e5; opacity: 0.7; margin-top: 20px; padding: 10px 0;">
                            <span style="color: #8A2BE2; margin-right: 5px;">☑️</span> <a href="{{ unsubscribe }}" style="color: #8A2BE2; text-decoration: underline;">Darse de baja</a>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</body>
</html>
```

### Django View for Notes Delivery

Update your `views.py` to handle the notes delivery after MailerLite processes the form submission. This assumes you’re using a Django backend to generate a secure Bunny CDN link.

<xaiArtifact artifact_id="4e03f5c6-8562-4072-9fa2-85e3b0a7955c" artifact_version_id="8d3c8458-fddb-4c7a-bc50-773bfbbadd0a" title="views.py" contentType="text/x-python">
```python
from django.shortcuts import render, redirect, get_object_or_404
from django.contrib.auth import authenticate, login, logout, update_session_auth_hash
from django.contrib.auth.decorators import login_required
from django.core.mail import EmailMessage
from django.template.loader import render_to_string
from django.http import HttpResponse, Http404, JsonResponse
from django.views.decorators.cache import never_cache
from django.contrib import messages
from django.utils import timezone
from datetime import timedelta
from django.core.exceptions import ValidationError
from django.core.validators import validate_email
import re
import stripe
import logging
import json
import hashlib
import base64
import time
from django.views.decorators.csrf import csrf_exempt
from django.conf import settings
from .models import Profile, Mensaje, Curso, PasswordChange, Membresia, UserCurso, UserMembresia, UserClase, Clase, Seccion
from .forms import RegisterForm, ProfileForm
from django.template.exceptions import TemplateDoesNotExist
from django.core.cache import cache

# Configuración de Stripe
stripe.api_key = settings.STRIPE_SECRET_KEY

# Configuración de logging
logger = logging.getLogger(__name__)

# Configuración de Bunny Stream
BUNNY_API_KEY = settings.BUNNY_API_KEY
BUNNY_LIBRARY_ID = settings.BUNNY_LIBRARY_ID

def generate_bunny_token(file_id, expiration_time=3600):
    expiration = int(time.time()) + expiration_time
    token = f"{BUNNY_LIBRARY_ID}{file_id}{BUNNY_API_KEY}{expiration}"
    token_hash = hashlib.sha256(token.encode()).hexdigest()
    token_base64 = base64.urlsafe_b64encode(f"{token_hash}:{expiration}".encode()).decode().rstrip('=')
    return token_base64, expiration

# View for rendering the landing page
def home(request):
    context = get_user_access_context(request.user) if request.user.is_authenticated else {}
    context.update({
        'membresia_premium': Membresia.objects.filter(title__icontains='Premium').first(),
        'membresia_profesional': Membresia.objects.filter(title__icontains='Profesional').first(),
    })
    return render(request, 'index.html', context)

# View to handle notes delivery (called by MailerLite webhook or manually)
def send_notes_email(request):
    if request.method == 'POST':
        try:
            data = json.loads(request.body)
            nombre = data.get('name')
            email = data.get('email')
            if not nombre or not email:
                return JsonResponse({'error': 'Missing name or email'}, status=400)
            validate_email(email)
            # Generate Bunny CDN token for notes
            notes_id = 'your-notes-file-id'  # Replace with actual Bunny CDN file ID
            token, _ = generate_bunny_token(notes_id)
            notes_url = f"https://your-bunny-cdn-url/{notes_id}?token={token}"
            # Send confirmation email
            html_content = render_to_string('free_notes_confirmation.html', {
                'nombre': nombre,
                'notes_url': notes_url,
                'unsubscribe': f'https://yourdomain.com/unsubscribe/{email}'
            })
            email = EmailMessage(
                subject='¡Tus Apuntes Gratis de Ciberseguridad!',
                body=html_content,
                from_email='contacto@lionxsecurity.es',
                to=[email],
            )
            email.content_subtype = 'html'
            email.send()
            return JsonResponse({'status': 'success'})
        except ValidationError:
            return JsonResponse({'error': 'Invalid email'}, status=400)
        except Exception as e:
            logger.error(f"Error sending notes email: {str(e)}")
            return JsonResponse({'error': 'Server error'}, status=500)
    return JsonResponse({'error': 'Invalid method'}, status=405)

# ... (other existing views remain unchanged)
```

### Implementation Steps
1. **Save Templates**:
   - Save the updated `index.html` in `lyonxsecurityfinal/templates/index.html`.
   - Save `free_notes_confirmation.html` in `lyonxsecurityfinal/templates/free_notes_confirmation.html`.

2. **Update Django URLs**:
   - Ensure `urls.py` includes the route for the notes email view:
     ```python
     from django.urls import path
     from . import views

     urlpatterns = [
         path('', views.home, name='home'),
         path('send-notes-email/', views.send_notes_email, name='send_notes_email'),
         # ... other URLs
     ]
     ```

3. **MailerLite Setup**:
   - In MailerLite, update the form at `https://assets.mailerlite.com/jsonp/1666597/forms/159988740446487920/subscribe` to include fields: `name`, `email`, and `interes` (dropdown with options: Hacking Ético, Informática Forense, Seguridad de Redes, Análisis de Malware, Criptografía).
   - Set up a webhook in MailerLite to notify your Django backend (`https://yourdomain.com/send-notes-email/`) when a form is submitted. The webhook should send `name`, `email`, and `interes` in the payload.
   - Create an automation in MailerLite to send the `free_notes_confirmation.html` email after form submission, or rely on the Django view to send it.

4. **Bunny CDN Setup**:
   - Upload your cybersecurity notes (e.g., a PDF) to Bunny CDN.
   - Replace `your-notes-file-id` in `views.py` with the actual file ID.
   - Replace `https://your-bunny-cdn-url/` with your Bunny CDN pull zone URL.
   - Ensure token authentication is enabled in Bunny CDN, using the `generate_bunny_token` function.

5. **Testing**:
   - Visit your landing page (e.g., `http://127.0.0.1:8000/`).
   - Click the “Apuntes Gratis” button to open the modal.
   - Submit the form with test data and verify it submits to MailerLite.
   - Check your email for the confirmation email with the download link.
   - Test the download link to ensure the token is valid and the file downloads.
   - Verify the modal’s styling (purple and black) and responsiveness on mobile devices.

6. **Optional: Enhance Form Submission**:
   - If you want to handle form submission via Django instead of MailerLite, update the form’s action to point to a Django view (e.g., `action="{% url 'free_notes' %}"`) and add a view:
     ```python
     def free_notes(request):
         if request.method == 'POST':
             nombre = request.POST.get('fields[name]')
             email = request.POST.get('fields[email]')
             interes = request.POST.get('fields[interes]')
             if nombre and email and interes:
                 try:
                     validate_email(email)
                     Mensaje.objects.create(
                         nombre=nombre,
                         correo=email,
                         contenido=f"Interés: {interes}"
                     )
                     notes_id = 'your-notes-file-id'
                     token, _ = generate_bunny_token(notes_id)
                     notes_url = f"https://your-bunny-cdn-url/{notes_id}?token={token}"
                     html_content = render_to_string('free_notes_confirmation.html', {
                         'nombre': nombre,
                         'notes_url': notes_url,
                         'unsubscribe': f'https://yourdomain.com/unsubscribe/{email}'
                     })
                     email = EmailMessage(
                         subject='¡Tus Apuntes Gratis de Ciberseguridad!',
                         body=html_content,
                         from_email='contacto@lionxsecurity.es',
                         to=[email],
                     )
                     email.content_subtype = 'html'
                     email.send()
                     return JsonResponse({'status': 'success', 'message': '¡Gracias! Revisa tu correo.'})
                 except ValidationError:
                     return JsonResponse({'error': 'Invalid email'}, status=400)
                 except Exception as e:
                     logger.error(f"Error processing free notes form: {str(e)}")
                     return JsonResponse({'error': 'Server error'}, status=500)
             return JsonResponse({'error': 'Missing fields'}, status=400)
         return render(request, 'index.html', {})
     ```
   - Update the form’s JavaScript to handle AJAX submission:
     ```javascript
     document.getElementById('apuntesForm').addEventListener('submit', function(e) {
         e.preventDefault();
         const formData = new FormData(this);
         fetch('{% url "free_notes" %}', {
             method: 'POST',
             body: formData,
             headers: {'X-CSRFToken': '{{ csrf_token }}'}
         })
         .then(response => response.json())
         .then(data => {
             if (data.status === 'success') {
                 closeModalFunc();
                 alert(data.message);
             } else {
                 alert(data.error);
             }
         })
         .catch(error => {
             console.error('Error:', error);
             alert('Error al enviar el formulario.');
         });
     });
     ```

### Notes
- **MailerLite Form URL**: Replace `https://assets.mailerlite.com/jsonp/1666597/forms/159988740446487920/subscribe` with your actual MailerLite form URL. Ensure the form fields in MailerLite match `fields[name]`, `fields[email]`, and `fields[interes]`.
- **Bunny CDN**: Ensure the notes file is uploaded and token authentication is configured. Update `notes_id` and the Bunny CDN URL in `views.py`.
- **Font Awesome**: The form uses Font Awesome for the download icon. If you prefer emojis for consistency with the email (e.g., 📥), replace `<i class="fas fa-download"></i>` with 📥.
- **Responsive Design**: The modal and form are responsive, with adjustments for mobile devices (e.g., smaller font sizes, centered layout).
- **Security**: The Bunny CDN link is secured with a token that expires after 1 hour (adjustable in `generate_bunny_token`).

### Testing and Debugging
- **Modal**: Click “Apuntes Gratis” to ensure the modal opens with the correct form and purple/black styling.
- **Form Submission**: Submit the form and verify it sends data to MailerLite. Check MailerLite’s subscriber list for the new entry.
- **Confirmation Email**: Ensure the confirmation email is sent (via MailerLite or Django) with a valid download link.
- **Download Link**: Test the Bunny CDN link to confirm the notes download and the token is valid.
- **Responsive Design**: View the page on a mobile device to ensure the modal and form are usable.
- **Console Errors**: Check the browser console for JavaScript errors and Django logs for backend issues.

This updated landing page ensures the “Apuntes Gratis” button opens a modal with the free notes form in the desired purple and black theme, integrated with MailerLite for submission and Django for secure delivery. Let me know if you need help with MailerLite webhook setup, Bunny CDN configuration, or further customization!
